import t,{useContext as e,useState as r,useEffect as n,createContext as a}from"react";var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i=function(){function t(t){this.setStateArrMap={},this.stateChangeListenerArrMap={},this.pageState=t&&t()||{}}return t.prototype.useState=function(t){var e=this,a=r()[1];n((function(){return e._addSetStateToArr(t,a),function(){e._removeSetStateFromArr(t,a)}}),[]);return[this.pageState[t],function(r){e.setState(t,r)}]},t.prototype.getState=function(t){return this.pageState[t]},t.prototype.setState=function(t,e){if("function"==typeof e){var r=e(this.pageState[t]);this._onStateChange(t,r)}else{r=e;this._onStateChange(t,r)}},t.prototype.addStateChangeListener=function(t,e){var r=this.stateChangeListenerArrMap[t];void 0===r&&(r=[],this.stateChangeListenerArrMap[t]=r),r.push(e)},t.prototype.removeStateChangeListener=function(t,e){var r=this.stateChangeListenerArrMap[t];if(r)for(var n=0;n<r.length;){r[n]===e?r.splice(n,1):n++}},t.prototype._addSetStateToArr=function(t,e){var r=this.setStateArrMap[t];void 0===r&&(r=[],this.setStateArrMap[t]=r),r.push(e)},t.prototype._removeSetStateFromArr=function(t,e){var r=this.setStateArrMap[t];if(r)for(var n=0;n<r.length;){r[n]===e?r.splice(n,1):n++}},t.prototype._onStateChange=function(t,e){this.pageState[t]=e;var r=this.setStateArrMap[t];r&&r.forEach((function(t){return t({})}));var n=this.stateChangeListenerArrMap[t];n&&n.forEach((function(t){return t(e)}))},t}();function u(t){var r=e(t).stateController;if(!r)throw new Error("usePageState() Error: Page Component not use withPageStateProvider");return r}function c(t,e){return u(e).useState(t)}function s(e){return function(r){return t.createElement(p,{getInitState:r.getInitState,StateContext:e},r.children)}}function f(e,r,n){return function(a){return t.createElement(p,{getInitState:n,StateContext:r},t.createElement(e,o({},a)))}}function p(e){var n=r((function(){return{stateController:new i(e.getInitState)}}))[0];return t.createElement(e.StateContext.Provider,{value:n},e.children)}function S(t,e){return c(t,C)}function h(){var t=u(C);return function(e){return t.useState(e)}}function v(t,e){return f(t,C,e)}function g(t){return s(C)(t)}function l(){return u(C)}var C=a({});function d(t,e){return c(t,M)}function A(){var t=u(M);return function(e){return t.useState(e)}}function y(t,e){return f(t,M,e)}function m(t){return s(M)(t)}function E(){return u(M)}var M=a({});function L(t,e){return c(t,I)}function _(){var t=u(I);return function(e){return t.useState(e)}}function P(t,e){return f(t,I,e)}function w(t){return s(I)(t)}function x(){return u(I)}var I=a({});export{g as AppStateProvider,w as ComponentStateProvider,m as PageStateProvider,h as getUseAppState,_ as getUseComponentState,A as getUsePageState,S as useAppState,l as useAppStateController,L as useComponentState,x as useComponentStateController,d as usePageState,E as usePageStateController,v as withAppStateProvider,P as withComponentStateProvider,y as withPageStateProvider};
