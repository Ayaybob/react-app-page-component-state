import t,{useContext as e,useState as r,useEffect as n,createContext as a}from"react";var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var u=function(){function t(t){this.setStateArrMap={},this.stateChangeListenerArrMap={},this.pageState=t&&t()||{}}return t.prototype.useState=function(t){var e=this,a=r()[1];n((function(){return e._addSetStateToArr(t,a),function(){e._removeSetStateFromArr(t,a)}}),[]);return[this.pageState[t],function(r){e.setState(t,r)}]},t.prototype.getState=function(t){return this.pageState[t]},t.prototype.setState=function(t,e){if("function"==typeof e){var r=e(this.pageState[t]);this._onStateChange(t,r)}else{r=e;this._onStateChange(t,r)}},t.prototype.addStateChangeListener=function(t,e){var r=this.stateChangeListenerArrMap[t];void 0===r&&(r=[],this.stateChangeListenerArrMap[t]=r),r.push(e)},t.prototype.removeStateChangeListener=function(t,e){var r=this.stateChangeListenerArrMap[t];if(r)for(var n=0;n<r.length;){r[n]===e?r.splice(n,1):n++}},t.prototype._addSetStateToArr=function(t,e){var r=this.setStateArrMap[t];void 0===r&&(r=[],this.setStateArrMap[t]=r),r.push(e)},t.prototype._removeSetStateFromArr=function(t,e){var r=this.setStateArrMap[t];if(r)for(var n=0;n<r.length;){r[n]===e?r.splice(n,1):n++}},t.prototype._onStateChange=function(t,e){this.pageState[t]=e;var r=this.setStateArrMap[t];r&&r.forEach((function(t){return t({})}));var n=this.stateChangeListenerArrMap[t];n&&n.forEach((function(t){return t(e)}))},t}();function i(t){var r=e(t).stateController;if(!r)throw new Error("usePageState() Error: Page Component not use withPageStateProvider");return r}function c(t,e){return i(e).useState(t)}function f(e){return function(r){return t.createElement(p,{getInitState:r.getInitState,StateContext:e},r.children)}}function s(e,r,n){return function(a){return t.createElement(p,{getInitState:n,StateContext:r},t.createElement(e,o({},a)))}}function p(e){var n=r((function(){return{stateController:new u(e.getInitState)}}))[0];return t.createElement(e.StateContext.Provider,{value:n},e.children)}function S(r,n,a){return function(u){var i,c=e(n).stateController,f=((i={})[a]=c,i),s=o(o({},f),u);return t.createElement(r,o({},s))}}function h(t,e){return c(t,A)}function v(){var t=i(A);return function(e){return t.useState(e)}}function g(t,e){return s(t,A,e)}function l(t){return f(A)(t)}function C(){return i(A)}function d(t,e){return S(t,A,e)}function m(t){return d(t,"appStateCtrlr")}var A=a({});function y(t,e){return c(t,x)}function E(){var t=i(x);return function(e){return t.useState(e)}}function M(t,e){return s(t,x,e)}function L(t){return f(x)(t)}function _(){return i(x)}function P(t,e){return S(t,x,e)}function w(t){return P(t,"pageStateCtrlr")}var x=a({});function I(t,e){return c(t,q)}function O(){var t=i(q);return function(e){return t.useState(e)}}function b(t,e){return s(t,q,e)}function j(t){return f(q)(t)}function F(){return i(q)}function T(t,e){return S(t,q,e)}function k(t){return T(t,"componentStateCtrlr")}var q=a({});export{l as AppStateProvider,j as ComponentStateProvider,L as PageStateProvider,v as getUseAppState,O as getUseComponentState,E as getUsePageState,h as useAppState,C as useAppStateController,I as useComponentState,F as useComponentStateController,y as usePageState,_ as usePageStateController,m as withAppStateController,d as withAppStateControllerByCustomFieldName,g as withAppStateProvider,k as withComponentStateController,T as withComponentStateControllerByCustomFieldName,b as withComponentStateProvider,w as withPageStateController,P as withPageStateControllerByCustomFieldName,M as withPageStateProvider};
